!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){var i=window.Promise;"undefined"==typeof i?t.exports=n(2):t.exports=i},function(t,e,n){"use strict";(function(t,n,i){var r=function(){function e(t){this.timerMultiplier=1e3,this.$el=t,this.$el.hide().addClass("herd-container")}return e.prototype.init=function(){return t(this,void 0,void 0,function(){var t,e,i;return n(this,function(n){switch(n.label){case 0:return[4,this.loadConfig()];case 1:return t=n.sent(),this.showTime=t.showTime,this.hideTime=t.hideTime,this.interval=t.interval,this.malesPercent=t.malesPercent,this.name=t.order.name,this.price=t.order.price,this.amount=t.order.amount,this.position="herd-position-"+t.position,this.hideSpeed=t.hideSpeed,this.firstNames=t.firstNames,this.lastNames=t.lastNames,this.cities=t.cities,this.$el.addClass(this.position),i=$,[4,this.loadTemplate()];case 2:return e=i.apply(void 0,[n.sent()]),this.$el.append(e),this.$user=e.find(".herd-user"),this.$city=e.find(".herd-city"),this.$order=e.find(".herd-order"),this.$name=e.find(".herd-name"),this.$price=e.find(".herd-price"),this.$amount=e.find(".herd-amount"),setTimeout(this.start.bind(this),this.showTime*this.timerMultiplier),[2]}})})},e.prototype.loadConfig=function(){return new i(function(t){$.getJSON("herd-script/assets/config.json").then(function(e){t(e)})})},e.prototype.loadTemplate=function(){return new i(function(t){$.get("herd-script/assets/template.html").then(function(e){t(e)})})},e.prototype.start=function(){this.composeTemplate(),this.$el.css("opacity",0.7).show(),setTimeout(this.hide.bind(this),this.hideTime*this.timerMultiplier),setTimeout(this.start.bind(this),e.pickRandomElement(this.interval)*this.timerMultiplier)},e.prototype.hide=function(){this.$el.animate({opacity:0},this.hideSpeed*this.timerMultiplier)},e.prototype.composeTemplate=function(){this.$user.html(this.composeUser()),this.$city.html(e.pickRandomElement(this.cities)),this.$order.html(this.sex===!0?"заказал":"заказала"),this.$name.html(this.name);var t=e.pickRandomElement(this.amount),n=t*this.price;this.$amount.html(String(t)),this.$price.html(String(n))},e.prototype.composeUser=function(){this.sex=Math.floor(100*Math.random())/this.malesPercent<1;var t=this.sex?e.pickRandomElement(this.firstNames.males):e.pickRandomElement(this.firstNames.females),n=this.sex?e.pickRandomElement(this.lastNames.males):e.pickRandomElement(this.lastNames.females);return t+" "+n},e.pickRandomElement=function(t){return t[Math.floor(Math.random()*t.length)]},e}();e.App=r}).call(e,n(3),n(4),n(0))},function(t,e,n){(function(e){!function(e){function n(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,n(o,this),n(s,this))}function r(t){var e=this;return null===this._state?void this._deferreds.push(t):void h(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(e){return void t.reject(e)}t.resolve(i)})}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void a(n(e,t),n(o,this),n(s,this))}this._state=!0,this._value=t,c.call(this)}catch(t){s.call(this,t)}}function s(t){this._state=!1,this._value=t,c.call(this)}function c(){for(var t=0,e=this._deferreds.length;t<e;t++)r.call(this,this._deferreds[t]);this._deferreds=null}function u(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function a(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(t){if(i)return;i=!0,n(t)}}var h=i.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=this;return new i(function(i,o){r.call(n,new u(t,e,i,o))})},i.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new i(function(e,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,function(t){i(o,t)},n)}t[o]=s,0===--r&&e(t)}catch(t){n(t)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},"undefined"!=typeof t&&t.exports?t.exports=i:e.Promise||(e.Promise=i)}(this)}).call(e,n(0))},function(t,e,n){(function(n){function i(t,e,i,r){return new(i||(i=n))(function(n,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(s,c)}u((r=r.apply(t,e)).next())})}"undefined"!=typeof t&&t.exports&&(e=t.exports=i),e.__awaiter=i}).call(e,n(0))},function(t,e){function n(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],o=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}}"undefined"!=typeof t&&t.exports&&(e=t.exports=n),e.__generator=n},function(t,e,n){"use strict";var i=n(1);!function(t){t.fn.herd=function(){var t=new i.App(this);return t.init(),this}}(jQuery)}]);